<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    {% include head.html %}
    <title>{% if page.title %} {{ page.title }} | {% endif %} {{ site.name }}</title>
  </head>
  <body>
    {% include links.html %}
    {% include menu.html %}
    <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/ScrollMagic.min.js"></script>
    <script>
      var controller = new ScrollMagic.Controller();
    </script>
    <div class="container content-container">
      <h1 class="post-title">{{ page.title }}</h1>
      <p class="post-info">
        <i>by {{ page.author }}</i><br />
        {{ page.date | date: '%B %d, %Y' }}
      </p>
      <div class="col-sm-4 col-sm-push-8">
        <h2 class="post-quote">"{{ page.quote }}"</h2>
        <div class="contents-desktop">
          <h3 class="contents-title">Contents</h3>
          <ul id="contents-desktop" class="post-contents hidden-xs">
          </ul>
        </div>
      </div>
      <div class="col-sm-8 col-sm-pull-4 post-content">
        <img class="post-image" src="/img/{{ page.category | downcase }}/{{ page.date | date: "%Y-%m-%d" }}-{{ page.title | remove: "'" | remove: " -" | replace: " ", "-" | downcase }}.jpg" />
        {{ content }}
      </div>
    </div>
    <script>
      let scene = new ScrollMagic.Scene({triggerElement: '.contents-desktop', triggerHook: 'onLeave', offset: -100})
        .setPin('.contents-desktop')
        .addTo(controller);
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="/js/contents.js"></script>
    {% include js.html %}
  </body>
</html>
